# 第四章 - 控制语句和逻辑操作符

当我们需要执行一系列重复的任务时，就需要使用循环来解决。在 Swift 中一共有两种循环方式，一个是 for-in，一个是while。

## For - In
对于熟悉 C 语言 for 循环的同学来说，可能看到 for-in 会有些别扭，它取消了一般 for 循环 使用索引的方式。下面我们来看一下它的基本使用。

```
// 遍历 nums 中的每个元素
let nums = Array(1...10)
for num in nums {
     print(num)
}

```
在上面的例子中我们可以看到，并没有 i++ 类似的东西。个人感觉 for-in 这种形式还是比较简洁的，特别是当你循环中不会会使用到索引的时候。

那么，如果我们在遍历过程中需要使用索引怎么办呢？可以使用下面这种方式来获取索引。
```
// 使用索引的方式遍历数组中的元素
let nums = Array(1...10)
for i in 0..<nums.count {
     print(nums[i])
}
```

`..< 是一种集合关系，. 的意思就是包含，< 的意思则是不包含。上述代码中的范围：0到（nums.count-1）`

在 Swift 中，遍历字典使用 for-in 也是非常方便的。
```
// 遍历 swift 中的键值对
let swift = ["name": "swift", "company": "apple", "platform": "iOS"]
for (key, value) in swift {
     print(key, value)
}
```

遍历 Set 的方式与遍历数组的方式一致：
```
// 遍历 Set
let set: Set = [1, 2, 3, 4]
for s in set {
     print(s)
}
```

上面所提到的遍历都是升序依次遍历，下面我们来看一下特殊的情况，比如如何倒序遍历、或者跳步执行？
```
// 使用 stride(from:through:by:) 函数 倒序遍历
let nums = Array(1...10)
for i in stride(from: nums.count - 1, through: 0, by: -1) {
     print(nums[i])
}

// 跳步执行
let nums = Array(1...10)
for i in stride(from: 0, through: nums.count - 1, by: 2) {
     print(nums[i])
}
```
## while
while 循环是当条件成立时，则一直执行循环体，反之则跳出循环。它不会涉及索引。使用while非常重要的一点就是，一定要在循环体内设置跳出循环的语句，否则无限执行循环体而导致死循环。
```
// while - 正常使用
var repeatCount = 5
     while repeatCount > 0 {
     print(repeatCount)
     repeatCount -= 1
}

// while - 死循环
var repeatCount = 5

while repeatCount > 0 {
     print(repeatCount)
}
```

在我们的日常生活中，无时无刻都在进行各种判断，中午吃什么？下午干什么？等等。那么，在程序中我们如何进行逻辑判断呢？在 Swift 中可以使用 if-else 或者 guard-else 语句来进行判断。

## if
在我们每天上下班的路上，都会碰到若干个红绿灯，下面，我们在代码中实现一下：“红灯停、绿灯行”的逻辑。
```
// 红绿灯逻辑
let color = "red"
if color == "red" {
     print("stop")
} else {
     print("through")
}
```

if-else 不一定都要写，如果不需要 else 的逻辑则 else 语句可以忽略。比如我们只关心碰到红灯我们要停下，而并不关系，不是红灯的情况。
```
if color == "red" {
     print("stop")
}
```

## guard - else
guard-else 也是用来逻辑判断，它和if-else 不同的是，guardb语句必须有else语句，而if则不强制。
比如在我们创建游戏账户的时候，我们的用户名一般都不可为空，这个逻辑就可以用guard-else来实现。

// 定义一个函数来判断用户名不为空的逻辑，关于函数更详细的介绍会在后面讲，这里先理解guard-else即可。
```
func guardTest(name: String) {
// 只有当用户名不为空的时候才去执行下面的代码
guard !name.isEmpty else { return }
     //....
}
```

## Switch-case

除了 if 和 guard 意外，我们还可以通过switch-case 来判断分支。首先定义一个枚举，然后通过 switch-case 的方式去判断应该走哪个流程。

这里我们定义一个代表方向的枚举 - Direction：
```
enum Direction {
     case east, west, north, south
}
```

通过switch-case 来判断应该走哪个方向：
```
let dir = Direction.east
switch dir {
     case .east:
     print("东")
     case .west:
     print("西")
     case .north:
     print("北")
     case .south:
     print("南")
}
```

Swift 中的枚举和 C 或者 OC 中的枚举不太一样，默认是不需要绑定值，它的 case 本身就代表它的值。当然，我们也可以给它绑定值。
```
// case 默认是加一
enum Level: Int {
     case hight = 0
     case medium
     case low
}
```

它的赋值是默认加一的，也就是 medium 的值为 1，low 的值为 2。如果不想用加一的逻辑，也可以每个值都赋值。推荐使用加一的方式。
```
// 不适用加一的方式
enum Level: Int {
     case hight = 0
     case medium = 10
     case low = 20
}
```
## 逻辑操作符
三种操作符用来进行逻辑判断。

* &&(与) ：一个条件为假则结果为假
* ||(或) ：一个条件为真则结果为真
* !(非)  ：真变假，假变真
```
true && true 为 true
true && false 为 false
false && false 为 false

true || true 为 true
true || false 为 true
false || false 为 false

!false 为 true
!true  为 false
```
