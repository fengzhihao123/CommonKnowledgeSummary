# 集合类型：Array、Dictionary、Set
`本章字数大约 4300 字左右，阅读大概需要 30 min。`
## 前言
在上一章节，我们讲解了基本类型：String、Int、Double、Bool，还有两个关键字：var、let。在这一章节我们来看一下三种集合类型：Array（数组）、Dictionary（字典）、Set（集合）。

为什么编程需要集合类型呢？在这里给大家讲个故事大家就明白了。在古时候有个叫张三的人去私塾上学，第一天先生教他如何写“一”字。第二天，教他如何写“二”。第三天，教他如何写“三”。第三天学完他就不去上学了，逢人就说写数字太简单了，还用学吗？他的邻居就说：那你给我写个“万”字吧？张三当场就懵逼了，心想：那我得写多少横啊。

现在大家知道为什么需要集合类型了吧。假如我们有成千上万条数据，我们难道需要定义成千上万个变量吗？那都不用写代码了，光起名字就够掉一脑袋头发的了。

所以，为了应对多条同类型数据的时候，集合类型就诞生了。
## Array(数组) - 有序
### 什么是数组
数组存储的是一系列同类型可重复的数据，它是有序的。这里有三个关键词：`同类型`、`可重复`、有序`。只要理解了这三个词，就理解了数组是什么。

同类型：在一个数组内只能包含一种类型，也就是说不能创建一个既包含 Int 又包含 String 元素的数组。

可重复：数组中的元素是允许重复的，比如数组中可以包含多个元素值为 2 的数据。

有序：对于数组的元素来说，每个都是有序的。就跟银行办业务排队似得，你去的早你就排前面，去的晚就排后面。数组也是一样的，先添加的元素排前面，后添加的元素排后面。

`需要注意的是，数组的第一个位置是从 0 开始计算的。`

### 数组的常用方法
#### 声明
首先，来看一下如何声明一个空数组：
```
var nums = Array<Int>()
```
上面声明了一个名称为 nums 的可变数组，它用来存储 Int 类型的元素。

上面是完整版的声明数组，下面我们来看一个简洁版：
```
var nums = [Int]()
```
它与上面的声明是等效的。

我们也可以在声明的时候给数组赋初始值。声明带有初始值的数组：
```
var nums = [1, 2, 3, 4]
```

这里，大家可能会想：如果我想给数组的初始值是1到100的元素，我需要从1写到100吗？当然不用了，代码的初衷是让人的生活变得更简洁，不是更复杂😏。

声明数组，并将1到100的元素赋予数组：
```
// 如果想到1000，把100改为1000即可
var nums = Array(1...100)
```

假设有一个可变的、存储 Int 类型的空数组：nums：
```
var nums = [Int]()
```
下面我们对该数组分别进行增删改查的操作。

`在这里说明一下索引的概念：索引即数组中元素的位置，它是从 0 开始的。索引为 0 的元素即数组的第一个元素。`
#### 添加

通过`append(_:)`函数，给数组的尾部添加一个元素：
```
// 给数组尾部添加一个元素：10，现在数组元素为 [10]
nums.append(10)
```

通过`append(contentsOf:)`函数，给数组的尾部添加多个元素：
```
// 给数组尾部添加 5 到 9 多个元素，现在数组元素为 [10, 5, 6, 7, 8, 9]
nums.append(contentsOf: 5...9)
```

通过`insert(_:at:)`函数，给数组特定位置插入一个元素：
```
// 在数组索引为 0 的位置插入元素 20，现在数组元素为 [20, 10, 5, 6, 7, 8, 9]
nums.insert(20, at: 0)
```

通过`insert(contentsOf:at:)`函数，给数组的尾部插入多个元素：
```
// 在数组索引为 1 的位置插入 13 到 18 多个元素，现在数组元素为 [20, 13, 14, 15, 16, 17, 18, 10, 5, 6, 7, 8, 9]
nums.insert(contentsOf: 13...18, at: 1)
```
这里需要注意的是我们在插入元素的时候，插入的索引必须`小于等于数组的长度减一`。比如上面的数组长度为 13，那我们插入的位置只能是 0 到 12 的范围。
```
// 这行代码运行就会报错
nums.insert(55, at: 15)
```
#### 删除

通过`removeFirst()/removeLast()`函数，删除数组头部/尾部的元素：
```
// 删除数组头部的元素，现在的数组元素为 [13, 14, 15, 16, 17, 18, 10, 5, 6, 7, 8, 9]
nums.removeFirst()
// 删除数组尾部的元素，现在的数组元素为 [13, 14, 15, 16, 17, 18, 10, 5, 6, 7, 8]
nums.removeLast()
```

通过`remove(at:)`函数，删除数组特定位置的元素：
```
// 移除索引为 5 的元素，现在的数组元素为 [13, 14, 15, 16, 17, 10, 5, 6, 7, 8]
nums.remove(at: 5)
```

通过`removeAll()`函数，删除数组全部元素：
```
nums.removeAll()
```
#### 修改/获取
通过下标来修改或获取特定位置的元素：
```
// 将索引为 2 的元素修改为 19，现在的数组元素为 [13, 14, 19, 16, 17, 10, 5, 6, 7, 8]
nums[2] = 19
// 获取数组索引为 7 的元素，并将值赋值给常量 num
let num = nums[7]
```

## Dictionary(字典) - 无序，key 唯一

### 什么是字典
字典中存储的是一对一对的数据，每一对数据都由一个 key 和一个 value 组成。在字典中，它的 key 是有唯一性的，也就是说字典不可能有重复的 key。

编程中的字典跟现实中的字典很像，都是都过 key 来获取 value。

`需要注意：字典也是无序的。`

### 字典的常用方法
#### 声明
声明一个 key 类型为 String， value 类型为 Int 的空字典：
```
var dict = [String: Int]()
```

声明一个有初始值的字典：
```
var dict = ["age": 20, "score": 80]
```

假设我们有一个空字典 dict，下面我们对该字典进行增删改查的操作。
```
var dict = [String: Int]()
```

#### 添加
```
// 给 dict 添加一个 key 为 height，value 为 80 的键值对，当前 dict 值为 ["height": 80]
dict["height"] = 80
// 给 dict 添加一个 key 为 weight，value 为 100 的键值对，当前 dict 值为 ["height": 80, "weight", 100]
dict["weight"] = 100
// 给 dict 添加一个 key 为 height，value 为 90 的键值对，因为字典 key 是唯一的，所以它会覆盖掉之前 height 的值。当前 dict 值为 ["height": 90, "weight", 100]
dict["height"] = 90
```

#### 修改
```
// 将 weight 的值修改为 20，当前 dict 值为 ["height": 90, "weight", 20]
dict["weight"] = 20
```

#### 删除
```
// 将对应的 key 赋值为 nil，即可删除该组键值对，当前的 dict 值为 ["height": 90]
dict["weight"] = nil
```

#### 获取
通过 key 来获取对应的 value：
```
// 获取 key 为 height 的值，这里返回的是可选类型，大家可以先认为是 Int，关于可选类型后面会讲到。
let height = dict["height"]
```

## Set(集合) - 无序，元素唯一

### 什么是集合
集合存储的是一组同类型无序的、值具有唯一性的数据。一般用来数据去重使用，比如我们有一个网站需要统计每日来访 IP 数，我们就可以用集合来过滤一天访问多次的 IP地址，将它只算作一次。

### 集合中的常用方法
#### 声明
声明一个 Int 类型的空集合：
```
var nums = Set<Int>()
```

声明一个带初始值的集合：
```
var nums: Set = [1, 2, 3]
```

假设我们有一个空集合 nums，下面我们对该集合进行增删操作：
```
var nums = Set<Int>()
```

#### 添加
```
// 添加一个元素 10，现在集合为 [10]
nums.insert(10)
// 添加一个元素 20，现在集合为 [10, 20]
nums.insert(20)
// 添加一个元素 10，现在集合为 [10, 20]。因为它的值具有唯一性，所以后面添加的 10，集合不会再包含它
nums.insert(10)
```

#### 删除
```
// 删除元素 20，现在集合为 [10]
nums.remove(20)
```

## 总结
* 本章讲解了三种集合类型：Array、Dictionary、Set
* Array 存储一组同类型、可重复、有顺序的元素。
* Dictionary 存储一组无序的键值对且key 是唯一的。
* Set 存储一组同类型、无序、数据不可重复的元素，一般用来去重。

下一章 - 《控制语句和逻辑操作符》。
